ASP.NET Core **GuId**entity
===

ASP.NET Core Identity by default uses string as primary key, using GuIdentity you will have guid as a primary key.

## Usage

Based in project generated by `yo aspnet`

1. In file project.json add in dependencies:

	```
	"Msmaldi.AspNetCore.GuIdentity.EntityFrameworkCore": "1.2.0",
	```

2. In file ApplicationUser.cs add and change:

	```csharp
	using Msmaldi.AspNetCore.GuIdentity.EntityFrameworkCore;
	```
	```csharp
	public class ApplicationUser : GuIdentityUser
	```

3. In file ApplicationDbContext.cs add and change:

	```csharp
	using Msmaldi.AspNetCore.GuIdentity.EntityFrameworkCore;
	```
	```csharp
	public class ApplicationDbContext : GuIdentityDbContext<ApplicationUser>
	```

4. In file Startup.cs add and change:
	
	```csharp
	using Msmaldi.AspNetCore.GuIdentity.EntityFrameworkCore;
	```
	```csharp
	services.AddIdentity<ApplicationUser, GuIdentityRole>()
                .AddEntityFrameworkGuidStores<ApplicationDbContext>()
                .AddDefaultTokenProviders();
	```

5. Delete folder :

	`/Data/Migrations`

6. Run:
	```
	dotnet restore

	dotnet ef migrations add CreateGuIdentityInitialSchema -o ./Data/Migrations

	dotnet ef database update

	dotnet run
	```